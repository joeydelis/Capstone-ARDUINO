# Tests on the functions using wokwi
name: ESP-32 Super-Linter
on: push
jobs:
    wokwi-checkout:
        name: checkout for wokwi testing
        runs-on: ubuntu-latest
        steps:
            - name: Checkout code and run test
              uses: actions/checkout@v4
              with:
                submodules: 'recursive'
    wokwi-aunit-tests:
        runs-on: ubuntu-latest
        steps:
            - name: aunit test 
              run: sudo snap install arduino-cli;rm firmware/* -rf;arduino-cli compile -b esp32:esp32:esp32s3 ServerAndLED/ --build-path firmware/ --libraries libraries/ --libraries wokwi_lib --build-property build.extra_flags="-DTESTING -DWOKWI"; wokwi-cli > results.log; cat results.log
            





